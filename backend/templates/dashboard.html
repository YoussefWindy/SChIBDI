<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SCHIBDI</title>
	<link rel="stylesheet" href="{{ url_for('static', filename='styles/styles.css') }}">
	<link rel="stylesheet" href="{{ url_for('static', filename='styles/dashboard.css') }}">
</head>

<body>
	<div class="popup" id="medPopup">
		<div class="popup-content">
			<h2>Welcome! Please enter the medications you're currently taking:</h2>
			<div class="medication-form">
				<input type="text" id="medName" name="medName" placeholder="Medication name">
				<button id="addMedBtn">Add Medication</button>
				<div id="medList"></div>
				<button id="closePopup">Close</button>
			</div>
		</div>
	</div>
	

	<header>
		<h1>Dashboard</h1>
	</header>
	<main>
		<label for="date">Select Date to View</label><input type="date" name="date" id="date_picker"><button id="date">Go</button>		
		<div class="container">
			<div class="col" id="food">
				<h2>Food</h2>
				<div class="sub-item" id="breakfst">
					<h3>Breakfast</h3>
					<div id="breakfast-inputs">
						{% for breakky in breakkies %}
							<div class="meal">
								<input type="text" name="breakfast" value="{{breakky}}" placeholder="Breakfast" class="breakfast">
								<button class="item-remove">-</button>
							</div>
						{% endfor %}
						<div class="meal">
							<input type="text" name="breakfast" placeholder="Breakfast" id="breakfast" class="breakfast">
						</div>
					</div>
					<button id="break-add">+</button>
				</div>
				<div class="sub-item" id="lunch">
					<h3>Lunch</h3>
					<div id="lunch-inputs">
						{% for lunchy in lunchies %}
							<div class="meal">
								<input type="text" name="lunch" value="{{lunchy}}" placeholder="Lunch" class="lunch">
								<button class="item-remove">-</button>
							</div>
						{% endfor %}
						<div class="meal">
							<input type="text" name="lunch" placeholder="Lunch" class="lunch">
						</div>
					</div>
					<button id="lunch-add">+</button>
				</div>
				<div class="sub-item" id="dinner">
					<h3>Dinner</h3>
					<div id="dinner-inputs">
						{% for dinny in dinnies %}
							<div class="meal">
								<input type="text" name="dinner" value="{{dinny}}" placeholder="Dinner" class="dinner">
								<button class="item-remove">-</button>
							</div>
						{% endfor %}
						<div class="meal">
							<input type="text" name="dinner" placeholder="Dinner" class="dinner">
						</div>
					</div>
					<button id="dinner-add">+</button>
				</div>
				<div class="sub-item" id="snacks">
					<h3>Snacks</h3>
					<div id="snack-inputs">
						{% for snacky in snackies %}
							<div class="meal">
								<input type="text" name="snack" value="{{snacky}}" placeholder="Yummy snack ðŸ˜‹" class="snack">
								<button class="item-remove">-</button>
							</div>
						{% endfor %}
						<div class="meal">
							<input type="text" name="snack" placeholder="Yummy snack ðŸ˜‹" class="snack">
						</div>
					</div>
					<button id="snack-add">+</button>
				</div>
			</div>
			<!-- Replace your existing medication section with this -->
			<div class="col" id="meds">
				<h2>Medication</h2>
				<div class="med-inputs">
					<button id="configure">Configure</button>
					<div class="sub-item" id="meds">
						<h3>Today's Medicine</h3>
						<h4>Morning</h4>
						<div id="morning">
							{% for med in meds %}
								{% if med[2] == "Morning" %}
									{% if med[1] %}
										<input type="checkbox" name="meds" id="{{med[0]}}" class="meds" value="{{med[0]}}" checked id="medications"><label for="{{med}}">{{med[0]}}</label>
									{% else %}
										<input type="checkbox" name="meds" id="{{med[0]}}" class="meds" value="{{med}}" id="medications"><label for="{{med}}">{{med[0]}}</label>
									{% endif %}
								{% endif %}
							{% endfor %}
						</div>
						<h4>Afternoon</h4>
						<div id="afternoon">
							{% for med in meds %}
								{% if med[2] == "Afternoon" %}
									{% if med[1] %}
										<input type="checkbox" name="meds" id="{{med[0]}}" class="meds" value="{{med[0]}}" checked id="medications"><label for="{{med}}">{{med[0]}}</label>
									{% else %}
										<input type="checkbox" name="meds" id="{{med[0]}}" class="meds" value="{{med}}" id="medications"><label for="{{med}}">{{med[0]}}</label>
									{% endif %}
								{% endif %}
							{% endfor %}
						</div>
						<h4>Evening</h4>
						<div id="evening">
							{% for med in meds %}
								{% if med[2] == "Evening" %}
									{% if med[1] %}
										<input type="checkbox" name="meds" id="{{med[0]}}" class="meds" value="{{med[0]}}" checked id="medications"><label for="{{med}}">{{med[0]}}</label>
									{% else %}
										<input type="checkbox" name="meds" id="{{med[0]}}" class="meds" value="{{med}}" id="medications"><label for="{{med}}">{{med[0]}}</label>
									{% endif %}
								{% endif %}
							{% endfor %}
						</div>
						<h4>Night</h4>
						<div id="night">
							{% for med in meds %}
								{% if med[2] == "Night" %}
									{% if med[1] %}
										<input type="checkbox" name="meds" id="{{med[0]}}" class="meds" value="{{med[0]}}" checked id="medications"><label for="{{med}}">{{med[0]}}</label>
									{% else %}
										<input type="checkbox" name="meds" id="{{med[0]}}" class="meds" value="{{med}}" id="medications"><label for="{{med}}">{{med[0]}}</label>
									{% endif %}
								{% endif %}
							{% endfor %}
						</div>
					</div>
				</div>
			</div>
			<div class="col no-vis" id="log">
				<div class="sub-item" id="symptoms">
					<h2>Symptoms</h2>
					<p>Today I felt:</p>
					<div id="sym-inputs">
						{% for sym in syms %}
							<div class="symmies">
								<input type="text" list="symps" value="{{sym}}" class="sympts" name="syms" placeholder="Add a symptom">
								<button class="item-remove">-</button>
							</div>
						{% endfor %}
						<div class="symmies">
							<input type="text" list="symps" class="sympts" name="syms" placeholder="Add a symptom">
						</div>
						<datalist id="symps">
							<option value="Nausea"></option>
							<option value="Diarrhea"></option>
							<option value="Mint"></option>
							{% for sym in syms %}
								{% if sym != "Nausea" and sym != "Diarrhea" %}
									<option value="{{sym}}"></option>
								{% endif %}
							{% endfor %}
						</datalist>
					</div>
					<button id="sym-add">+</button>
				</div>
				<div class="sub-item" id="notes">
					<h2>Notes</h2>
					<textarea width="25vw" name="notes" placeholder="Notes for future you...">{% if notes %}{{notes}}{% endif %}</textarea>
				</div>
			</div>
			<button id="save-changes">Save</button>
			<button id="cancel">Cancel</button>
		</div>
		<div class="popup" id="medPopup">
			<div class="popup-content">
				<h2>Welcome! Please enter the medications you're currently taking:</h2>
				<div id="med-list">
					{% for med in meds %}
						<div class="med-item">
							<div class="med-item-content">
								<span class="med-name">{{med[0]}}</span>
								{% if med[3] == 0 %}
									<span class="med-name">Morning</span>
								{% elif med[3] == 1 %}
									<span class="med-name">Afternoon</span>
								{% elif med[3] == 2 %}
									<span class="med-name">Evening</span>
								{% else %}
									<span class="med-name">Night</span>
								{% endif %}
							</div>
							<button class="med-remove">âˆ’</button>
						</div>
					{% endfor %}
				</div>
				<div class="med-input-group">
					<input type="text" name="meds" placeholder="Add a medication" id="add_med">
					<input list="times" id="time" name="time">
					<datalist id="times">
						<option value="Morning"></option>
						<option value="Afternoon"></option>
						<option value="Evening"></option>
						<option value="Night"></option>
					</datalist>
					<button id="med-add">+</button>
				</div><br>
				<button id="closePopup">Close</button><button id="save">Save</button>
			</div>
		</div>
	</main>
	<footer>
		<p>&copy; 2023 My Web App</p>
	</footer>
	<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>

</html>